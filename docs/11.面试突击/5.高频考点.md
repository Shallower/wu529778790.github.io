---
title: 高频考点
date: 2022-04-21 11:17:26
permalink: /pages/5139da5612f11/
categories:
  - 面试突击
tags:
  -
---

【腾讯文档】5、第五部分：高频考点(37 题).

<!-- more -->

## typeof 类型判断

> typeof 是否能正确判断类型？ instanceof 能正确判断对象的原理是什么

typeof 对于原始类型来说，除了 null 都可以显示正确的类型

```js
typeof 1; // 'number'
typeof "1"; // 'string'
typeof undefined; // 'undefined'
typeof true; // 'boolean'
typeof Symbol(); // 'symbol'
```

> typeof 对于对象来说，除了函数都会显示 object ，所以说 typeof 并不能准确判断变量到底是什么类型

```js
typeof []; // 'object'
typeof {}; // 'object'
typeof console.log; // 'function'
```

> 如果我们想判断⼀个对象的正确类型，这时候可以考虑使⽤ instanceof ，因为内部机制是通过原型链来判断的

```js
const Person = function () {};
const p1 = new Person();
p1 instanceof Person; // true
var str = "hello world";
str instanceof String; // false
var str1 = new String("hello world");
str1 instanceof String; // true
```

> 对于原始类型来说，你想直接通过 instanceof 来判断类型是不⾏的

## 阴式类型转换

> ⾸先我们要知道，在 JS 中类型转换只有三种情况，分别是：

- 转换为布尔值
- 转换为数字
- 转换为字符串

### 转 Boolean

> 在条件判断时，除了 undefined ， null ， false ， NaN ， '' ，0 ， -0 ，其他所有值都转为 true ，包括所有对象

### 对象转原始类型

> 对象在转换类型的时候，会调⽤内置的 [[ToPrimitive]] 函数，对于该函数来说，算法逻辑⼀般来说如下

- 如果已经是原始类型了，那就不需要转换了
- 调⽤ x.valueOf() ，如果转换为基础类型，就返回转换的值
- 调⽤ x.toString() ，如果转换为基础类型，就返回转换的值
- 如果都没有返回原始类型，就会报错

> 当然你也可以重写 Symbol.toPrimitive ，该⽅法在转原始类型时调⽤优先级最⾼

```js
let a = {
  valueOf() {
    return 0;
  },
  toString() {
    return "1";
  },
  [Symbol.toPrimitive]() {
    return 2;
  },
};
1 + a; // => 3
```

## PDF 下载

<https://docs.qq.com/pdf/DV3V6QnJhaExJSUxI>
